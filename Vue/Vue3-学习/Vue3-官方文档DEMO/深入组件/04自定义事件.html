<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Props</title>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
<!-- 
事件名
    与组件和prop一样，事件名提供了自动的大小写转换。如果用驼峰命名的子组件中触发一个事件，你将
    可以在父组件中添加一个kebab-case(短横线)的监听器。
定义自定义事件
    可以通过 emits 选项在组件上定义已发出的事件。

    app.component('custom-form' ,{
        emits: ['inFocus', 'submit']
    })

    当在 emits 选项中定义了原生事件(如 click)时,将使用组件中的事件替代原生事件监听器。

    *TIP
    建议定义所有发出的事件，以便更好地记录组件应该如何工作

 -->
</body>
<script>
const app = Vue.createApp({})
app.component('custom-form', {
    emits: {
        // 没有验证
        click: null,

        // 验证submit 事件,为事件分配一个函数,该函数接收传递给 $emit 调用的参数,并返回一个布尔值以指示事件是否有效。
        submit: ({ email, password}) => {
            if(email && password) {
                return true
            } else {
                console.warn('Invalid submit event payload!')
                return false
            }
        }
    },
    methods: {
        submitForm() {
            this.$emit('submit', { email, password})
        }
    }
})
</script>

</html>